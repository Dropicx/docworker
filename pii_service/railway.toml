# =============================================================================
# Railway Configuration for SpaCy PII Fallback Service
# =============================================================================
# This service is a BACKUP for the Hetzner PII service.
#
# IMPORTANT: After deploying, manually set replicas to 0 in Railway Dashboard
# to keep in sleep mode until needed.
#
# To activate:   Railway Dashboard → Service → Settings → Replicas → 1
# To deactivate: Railway Dashboard → Service → Settings → Replicas → 0
# =============================================================================

[build]
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "python -m uvicorn app.main:app --host 0.0.0.0 --port $PORT --workers 1"
healthcheckPath = "/health"
healthcheckTimeout = 180
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
