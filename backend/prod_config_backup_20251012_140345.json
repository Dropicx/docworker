{
  "available_models": {
    "columns": [
      "id",
      "name",
      "display_name",
      "provider",
      "description",
      "max_tokens",
      "supports_vision",
      "price_input_per_1m_tokens",
      "price_output_per_1m_tokens",
      "model_config",
      "is_enabled",
      "created_at",
      "last_modified",
      "modified_by"
    ],
    "data": []
  },
  "document_classes": {
    "columns": [
      "id",
      "class_key",
      "display_name",
      "description",
      "icon",
      "examples",
      "strong_indicators",
      "weak_indicators",
      "is_enabled",
      "is_system_class",
      "created_at",
      "last_modified",
      "created_by"
    ],
    "data": [
      {
        "id": 1,
        "class_key": "ARZTBRIEF",
        "display_name": "Arztbrief",
        "description": "",
        "icon": "\ud83d\udcc4",
        "examples": [],
        "strong_indicators": [],
        "weak_indicators": [],
        "is_enabled": true,
        "is_system_class": false,
        "created_at": "2025-10-09T13:42:07.679754",
        "last_modified": "2025-10-09T13:42:07.679754",
        "created_by": "settings_ui"
      }
    ]
  },
  "dynamic_pipeline_steps": {
    "columns": [
      "id",
      "name",
      "description",
      "order",
      "enabled",
      "document_class_id",
      "is_branching_step",
      "branching_field",
      "post_branching",
      "prompt_template",
      "selected_model_id",
      "temperature",
      "max_tokens",
      "retry_on_failure",
      "max_retries",
      "input_from_previous_step",
      "output_format",
      "stop_conditions",
      "created_at",
      "last_modified",
      "modified_by",
      "required_context_variables"
    ],
    "data": [
      {
        "id": 8,
        "name": "Final Quality Check",
        "description": "Final quality assurance and completeness check",
        "order": 8,
        "enabled": false,
        "document_class_id": null,
        "is_branching_step": false,
        "branching_field": null,
        "post_branching": false,
        "prompt_template": "F\u00fchre eine finale Qualit\u00e4tskontrolle dieses Textes durch.\n\nPr\u00fcfe auf Verst\u00e4ndlichkeit, Vollst\u00e4ndigkeit und patientenfreundliche Formulierung.\n\nText:\n{input_text}\n\nGib den final gepr\u00fcften Text zur\u00fcck.",
        "selected_model_id": 1,
        "temperature": 0.5,
        "max_tokens": 4096,
        "retry_on_failure": true,
        "max_retries": 2,
        "input_from_previous_step": true,
        "output_format": "text",
        "stop_conditions": null,
        "created_at": "2025-10-09T13:29:46.784193",
        "last_modified": "2025-10-09T13:41:20.507700",
        "modified_by": "settings_ui",
        "required_context_variables": null
      },
      {
        "id": 6,
        "name": "Grammar and Spelling Check",
        "description": "Corrects German grammar and spelling",
        "order": 6,
        "enabled": false,
        "document_class_id": null,
        "is_branching_step": false,
        "branching_field": null,
        "post_branching": false,
        "prompt_template": "Korrigiere Grammatik und Rechtschreibung in diesem Text.\n\nAchte auf korrekte medizinische Terminologie und professionelle Formulierung.\n\nText:\n{input_text}\n\nGib nur den korrigierten Text zur\u00fcck.",
        "selected_model_id": 1,
        "temperature": 0.3,
        "max_tokens": 4096,
        "retry_on_failure": true,
        "max_retries": 2,
        "input_from_previous_step": true,
        "output_format": "text",
        "stop_conditions": null,
        "created_at": "2025-10-09T13:29:46.784193",
        "last_modified": "2025-10-09T13:41:22.150670",
        "modified_by": "settings_ui",
        "required_context_variables": null
      },
      {
        "id": 5,
        "name": "Medical Fact Check",
        "description": "Verifies medical accuracy and completeness",
        "order": 5,
        "enabled": false,
        "document_class_id": null,
        "is_branching_step": false,
        "branching_field": null,
        "post_branching": false,
        "prompt_template": "\u00dcberpr\u00fcfe diesen medizinischen Text auf Korrektheit und Vollst\u00e4ndigkeit.\n\nAchte besonders auf Diagnosen, Behandlungsempfehlungen und Medikamentennamen.\n\nText:\n{input_text}\n\nGib den Text mit korrigierten medizinischen Informationen zur\u00fcck.",
        "selected_model_id": 1,
        "temperature": 0.5,
        "max_tokens": 4096,
        "retry_on_failure": true,
        "max_retries": 2,
        "input_from_previous_step": true,
        "output_format": "text",
        "stop_conditions": null,
        "created_at": "2025-10-09T13:29:46.784193",
        "last_modified": "2025-10-09T13:41:22.755210",
        "modified_by": "settings_ui",
        "required_context_variables": null
      },
      {
        "id": 4,
        "name": "Patient-Friendly Translation",
        "description": "Translates medical text into simple, patient-friendly language",
        "order": 4,
        "enabled": false,
        "document_class_id": null,
        "is_branching_step": false,
        "branching_field": null,
        "post_branching": false,
        "prompt_template": "\u00dcbersetze diesen medizinischen Text in einfache, patientenfreundliche Sprache.\n\nVerwende kurze S\u00e4tze und vermeide medizinische Fachbegriffe. Strukturiere den Text mit klaren Abschnitten.\n\nText:\n{input_text}\n\nGib nur die vereinfachte \u00dcbersetzung zur\u00fcck.",
        "selected_model_id": 1,
        "temperature": 0.7,
        "max_tokens": 4096,
        "retry_on_failure": true,
        "max_retries": 2,
        "input_from_previous_step": true,
        "output_format": "text",
        "stop_conditions": null,
        "created_at": "2025-10-09T13:29:46.784193",
        "last_modified": "2025-10-09T13:41:24.436951",
        "modified_by": "settings_ui",
        "required_context_variables": null
      },
      {
        "id": 3,
        "name": "PII Preprocessing",
        "description": "Removes personal identifiers while preserving medical information",
        "order": 3,
        "enabled": false,
        "document_class_id": null,
        "is_branching_step": false,
        "branching_field": null,
        "post_branching": false,
        "prompt_template": "Entferne aus dem folgenden medizinischen Text alle pers\u00f6nlichen Identifikatoren (Namen, Adressen, Geburtsdaten, Telefonnummern, E-Mail-Adressen, Patientennummern), aber behalte alle medizinischen Informationen und den Kontext bei.\n\nErsetze entfernte PII durch '[ENTFERNT]'.\n\nText:\n{input_text}\n\nGib nur den bereinigten Text zur\u00fcck.",
        "selected_model_id": 1,
        "temperature": 0.5,
        "max_tokens": 4096,
        "retry_on_failure": true,
        "max_retries": 2,
        "input_from_previous_step": true,
        "output_format": "text",
        "stop_conditions": null,
        "created_at": "2025-10-09T13:29:46.784193",
        "last_modified": "2025-10-09T13:41:24.894801",
        "modified_by": "settings_ui",
        "required_context_variables": null
      },
      {
        "id": 7,
        "name": "Language Translation",
        "description": "Translates text to target language",
        "order": 7,
        "enabled": false,
        "document_class_id": null,
        "is_branching_step": false,
        "branching_field": null,
        "post_branching": false,
        "prompt_template": "\u00dcbersetze den folgenden Text EXAKT in {target_language}.\n\nAchte auf pr\u00e4zise medizinische Terminologie, wo angebracht, aber halte den Ton patientenfreundlich.\n\nText:\n{input_text}\n\nGib nur die \u00dcbersetzung zur\u00fcck.",
        "selected_model_id": 1,
        "temperature": 0.7,
        "max_tokens": 4096,
        "retry_on_failure": true,
        "max_retries": 2,
        "input_from_previous_step": true,
        "output_format": "text",
        "stop_conditions": null,
        "created_at": "2025-10-09T13:29:46.784193",
        "last_modified": "2025-10-09T13:41:21.262147",
        "modified_by": "settings_ui",
        "required_context_variables": [
          "target_language"
        ]
      },
      {
        "id": 1,
        "name": "Medical Content Validation",
        "description": "Validates if document contains medical content (Universal Branching Step)",
        "order": 1,
        "enabled": true,
        "document_class_id": null,
        "is_branching_step": true,
        "branching_field": "medical_validation",
        "post_branching": false,
        "prompt_template": "Analyze the following medical document and classify it into one of these categories:\n\n  - ARZTBRIEF (\ud83d\udcc4): \n\nConsider these classification indicators:\n\nARZTBRIEF:\n\n\nBased on your analysis, classify the document and respond with ONLY the class key (e.g., ARZTBRIEF).\n\nDocument to classify:\n{input_text}\n",
        "selected_model_id": 2,
        "temperature": 0.3,
        "max_tokens": 100,
        "retry_on_failure": true,
        "max_retries": 3,
        "input_from_previous_step": true,
        "output_format": "text",
        "stop_conditions": {
          "stop_on_values": [
            "NICHT_MEDIZINISCH"
          ],
          "termination_reason": "Non-medical content detected",
          "termination_message": "Das hochgeladene Dokument enth\u00e4lt keinen medizinischen Inhalt. Bitte laden Sie ein medizinisches Dokument (z.B. Arztbrief, Befundbericht, Laborwerte) hoch."
        },
        "created_at": "2025-10-09T13:29:46.784193",
        "last_modified": "2025-10-09T13:42:07.706702",
        "modified_by": "system_seed",
        "required_context_variables": null
      },
      {
        "id": 2,
        "name": "Document Classification",
        "description": "Classifies document type (ARZTBRIEF, BEFUNDBERICHT, LABORWERTE) - Routes to class-specific pipeline",
        "order": 2,
        "enabled": true,
        "document_class_id": null,
        "is_branching_step": true,
        "branching_field": "document_type",
        "post_branching": false,
        "prompt_template": "Analyze the following medical document and classify it into one of these categories:\n\n  - ARZTBRIEF (\ud83d\udcc4): \n\nConsider these classification indicators:\n\nARZTBRIEF:\n\n\nBased on your analysis, classify the document and respond with ONLY the class key (e.g., ARZTBRIEF).\n\nDocument to classify:\n{input_text}\n",
        "selected_model_id": 2,
        "temperature": 0.3,
        "max_tokens": 200,
        "retry_on_failure": true,
        "max_retries": 3,
        "input_from_previous_step": true,
        "output_format": "text",
        "stop_conditions": null,
        "created_at": "2025-10-09T13:29:46.784193",
        "last_modified": "2025-10-09T13:42:07.706711",
        "modified_by": "system_seed",
        "required_context_variables": null
      },
      {
        "id": 9,
        "name": "Text Formatting",
        "description": "Applies markdown formatting and structure",
        "order": 9,
        "enabled": false,
        "document_class_id": null,
        "is_branching_step": false,
        "branching_field": null,
        "post_branching": false,
        "prompt_template": "Formatiere diesen Text mit klaren \u00dcberschriften, Abschnitten und einer logischen Struktur.\n\nVerwende Markdown-Formatierung:\n- \u00dcberschriften mit #\n- Bullet Points f\u00fcr Listen\n- Fettschrift f\u00fcr wichtige Begriffe\n\nText:\n{input_text}\n\nGib nur den formatierten Markdown-Text zur\u00fcck.",
        "selected_model_id": 1,
        "temperature": 0.3,
        "max_tokens": 4096,
        "retry_on_failure": true,
        "max_retries": 2,
        "input_from_previous_step": true,
        "output_format": "markdown",
        "stop_conditions": null,
        "created_at": "2025-10-09T13:29:46.784193",
        "last_modified": "2025-10-09T13:41:19.721811",
        "modified_by": "settings_ui",
        "required_context_variables": null
      }
    ]
  },
  "ocr_configuration": {
    "columns": [
      "id",
      "selected_engine",
      "paddleocr_config",
      "vision_llm_config",
      "hybrid_config",
      "pii_removal_enabled",
      "last_modified",
      "modified_by"
    ],
    "data": [
      {
        "id": 1,
        "selected_engine": "PADDLEOCR",
        "paddleocr_config": {
          "use_gpu": true,
          "lang": "german",
          "det_algorithm": "DB",
          "rec_algorithm": "SVTR_LCNet"
        },
        "vision_llm_config": {
          "model": "Qwen2.5-VL-72B-Instruct",
          "max_tokens": 4096,
          "temperature": 0.1
        },
        "hybrid_config": {
          "quality_threshold": 0.7,
          "use_vision_for_complex": true,
          "fallback_engine": "TESSERACT"
        },
        "pii_removal_enabled": true,
        "last_modified": "2025-10-09T13:29:46.784193",
        "modified_by": "system_seed"
      }
    ]
  },
  "system_settings": {
    "columns": [
      "id",
      "key",
      "value",
      "value_type",
      "description",
      "is_encrypted",
      "created_at",
      "updated_at",
      "updated_by"
    ],
    "data": []
  }
}